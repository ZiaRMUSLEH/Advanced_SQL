--Task 1 : create table student with 3 filed first_name,last_name and age 
--and insert new student into table .
-- 1 way :


	-- Create the "student" table
	CREATE TABLE student (
		student_id serial,
		first_name text,
		last_name text,
		age integer
	);

	-- Insert a new student into the "student" table
	INSERT INTO student (first_name, last_name, age)
	VALUES ('John', 'Doe', 20);
	

do $$
declare
	new_student_id integer;
	first_name varchar(25);
	last_name varchar(25);
	age integer;
	
begin
	first_name:='John';
	last_name:='Doe';
	age:=21;
	
	INSERT INTO student(first_name, last_name,age )
	VALUES (first_name, last_name,age)

	RETURNING student_id INTO new_student_id;
	RAISE NOTICE 'new student inserted with id: %',new_student_id;
	
end $$
--Task 2: Type code to  print this message one the console .
	--NOTICE:  Delaying for 7 seconds.
	--NOTICE:  Delay completed.

DO $$

DECLARE
 	delay_second integer:=7;
BEGIN
	RAISE NOTICE 'Delaying for % seconds',
	delay_second;
	
	PERFORM pg_sleep(delay_second);
	RAISE NOTICE 'Delay completed.';

END $$


--Task 3: Type  code to  calculates and prints the time elapsed between the start of a task (after a 10-second delay) 
--and the completion of the task.


DO $$

DECLARE
	start_time timestamp :=now();
	end_date timestamp :=now();

BEGIN
	RAISE NOTICE 'Starting at : %',start_time;
	
	PERFORM pg_sleep(10);
	RAISE NOTICE 'Task is Complated';
	
	
	RAISE NOTICE 'Time elpaced : % end_date',
	extract(epoch FROM end_date-start_time);

END $$

--task 4: type to print student first name with id = 1


DO $$
DECLARE
	student_name student.first_name%type;
BEGIN
	SELECT first_name 
	INTO student_name
	FROM student
	WHERE student_id =2;
	
	RAISE NOTICE 'Student first name with id 1 is :%' ,student_name;
END $$;

-- Task 5: Type code to print the student name and age with id 2 :



